<h2>New Evidence</h2>

<div class="">
  <div>
    <input type="date" [(ngModel)]="newEvidence.when" name="when" placeholder="When did it happen?">
    <input type="text" [(ngModel)]="newEvidence.where" name="where" placeholder="Where did it happen?">
  <div>

  <div class="">
    <label class="btn btn-default">Image icon<input type="file"
      (change)="selectFile($event, '/images')" name="evidence_image">
    </label>
    <br>
    <br>
    
    <label class="btn btn-default">Audio icon<input type="file"
      (change)="selectFile($event, '/audio')" [(ngModel)]="newEvidence.audio" name="evidence_audio">
    </label>
    <br>
    <br>
    <!-- <label class="btn btn-default">Document icon<input type="file"
      (change)="selectFile($event, '/documents')" [(ngModel)]="newEvidence.doc" name="evidence_doc">
    </label>
    <br>
    <br> -->
    <label class="btn btn-default">Video icon<input type="file"
      (change)="selectFile($event, '/video')" [(ngModel)]="newEvidence.video" name="evidence_video">
    </label>
  </div>

  <div>
    <textarea [(ngModel)]="newEvidence.what" name="what" placeholder="What happened?..."></textarea>
  </div>

  <div class="">
    <input type="submit" class= "btn mat-raised-button" value="DONE" (click)="addNewEvidence()">
  </div>
</div>

<button (click)="toggleViewLog()">
  <div *ngIf="!viewLog">{{ viewLogMessage }}</div>
  <div *ngIf="viewLog">{{ hideLogMessage }}</div>
</button>

<div *ngIf="viewLog">
  <h1>Your previous entries</h1>
  <div *ngFor="let evidence of evidences | async">
    <div *ngIf="evidence.display">
      {{ evidence.when }} at {{ evidence.where }}
      <!-- <button type="button" (click)="deleteEvidence(evidence)" name="button">X</button> -->
      <br>
      {{ evidence.what }}<br>

      <img src="{{ evidence.image }}" alt="" height="20" width="20" *ngIf="evidence.image">
      <audio *ngIf="evidence.audio" controls>
        <source src="{{ evidence.audio }}" type="audio/mp3">
      </audio>
      <video *ngIf="evidence.video" width="100" height="100" controls>
        <source src="{{ evidence.video }}" type="video/mp4">
      </video>
    </div>
  </div>
</div>
